import{hb as we,hc as se,r as O,hd as Te,d as K,F as q,b as Re,cg as Ce,cs as xe,u as ee,aj as ge,co as ve,bo as ie,ap as te,cq as le,ct as Me,j as f,bs as Oe,eB as F,v as ze,g as De,he as Le,J as Y,aq as Ee,ar as Fe,T as be,cy as ye,cD as Se,a4 as ce,B,eX as ke,I as de,eY as Pe,aE as je,aL as $e,bn as Ae}from"./strapi-C46Ei97l.js";import{u as Ne,I as We,D as qe}from"./useDragAndDrop-HYwNDExe-BsEk8btt.js";import{a as Ve,g as ae,u as He,b as Ue}from"./relations-ksVp_JdY-CnGnbpJo.js";import{g as Be}from"./getEmptyImage-CjqolaH3.js";var ue=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Ke(n,t){return!!(n===t||ue(n)&&ue(t))}function Ge(n,t){if(n.length!==t.length)return!1;for(var o=0;o<n.length;o++)if(!Ke(n[o],t[o]))return!1;return!0}function ne(n,t){t===void 0&&(t=Ge);var o,r=[],c,v=!1;function b(){for(var S=[],R=0;R<arguments.length;R++)S[R]=arguments[R];return v&&o===this&&t(S,r)||(c=n.apply(this,S),v=!0,o=this,r=S),c}return b}var Ye=typeof performance=="object"&&typeof performance.now=="function",he=Ye?function(){return performance.now()}:function(){return Date.now()};function pe(n){cancelAnimationFrame(n.id)}function Qe(n,t){var o=he();function r(){he()-o>=t?n.call(null):c.id=requestAnimationFrame(r)}var c={id:requestAnimationFrame(r)};return c}var oe=-1;function me(n){if(n===void 0&&(n=!1),oe===-1||n){var t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",document.body.appendChild(t),oe=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return oe}var W=null;function fe(n){if(n===void 0&&(n=!1),W===null||n){var t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";var r=document.createElement("div"),c=r.style;return c.width="100px",c.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?W="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?W="negative":W="positive-ascending"),document.body.removeChild(t),W}return W}var Je=150,Xe=function(t,o){return t},J=null,X=null;typeof window<"u"&&typeof window.WeakSet<"u"&&(J=new WeakSet,X=new WeakSet);function Ze(n){var t,o=n.getItemOffset,r=n.getEstimatedTotalSize,c=n.getItemSize,v=n.getOffsetForIndexAndAlignment,b=n.getStartIndexForOffset,S=n.getStopIndexForStartIndex,R=n.initInstanceProps,C=n.shouldResetStyleCacheOnItemSizeChange,x=n.validateProps;return t=function(M){we(D,M);function D(y){var e;return e=M.call(this,y)||this,e._instanceProps=R(e.props,se(e)),e._outerRef=void 0,e._resetIsScrollingTimeoutId=null,e.state={instance:se(e),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof e.props.initialScrollOffset=="number"?e.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},e._callOnItemsRendered=void 0,e._callOnItemsRendered=ne(function(i,a,d,h){return e.props.onItemsRendered({overscanStartIndex:i,overscanStopIndex:a,visibleStartIndex:d,visibleStopIndex:h})}),e._callOnScroll=void 0,e._callOnScroll=ne(function(i,a,d){return e.props.onScroll({scrollDirection:i,scrollOffset:a,scrollUpdateWasRequested:d})}),e._getItemStyle=void 0,e._getItemStyle=function(i){var a=e.props,d=a.direction,h=a.itemSize,m=a.layout,u=e._getItemStyleCache(C&&h,C&&m,C&&d),g;if(u.hasOwnProperty(i))g=u[i];else{var s=o(e.props,i,e._instanceProps),l=c(e.props,i,e._instanceProps),w=d==="horizontal"||m==="horizontal",T=d==="rtl",L=w?s:0;u[i]=g={position:"absolute",left:T?void 0:L,right:T?L:void 0,top:w?0:s,height:w?"100%":l,width:w?l:"100%"}}return g},e._getItemStyleCache=void 0,e._getItemStyleCache=ne(function(i,a,d){return{}}),e._onScrollHorizontal=function(i){var a=i.currentTarget,d=a.clientWidth,h=a.scrollLeft,m=a.scrollWidth;e.setState(function(u){if(u.scrollOffset===h)return null;var g=e.props.direction,s=h;if(g==="rtl")switch(fe()){case"negative":s=-h;break;case"positive-descending":s=m-d-h;break}return s=Math.max(0,Math.min(s,m-d)),{isScrolling:!0,scrollDirection:u.scrollOffset<s?"forward":"backward",scrollOffset:s,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._onScrollVertical=function(i){var a=i.currentTarget,d=a.clientHeight,h=a.scrollHeight,m=a.scrollTop;e.setState(function(u){if(u.scrollOffset===m)return null;var g=Math.max(0,Math.min(m,h-d));return{isScrolling:!0,scrollDirection:u.scrollOffset<g?"forward":"backward",scrollOffset:g,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._outerRefSetter=function(i){var a=e.props.outerRef;e._outerRef=i,typeof a=="function"?a(i):a!=null&&typeof a=="object"&&a.hasOwnProperty("current")&&(a.current=i)},e._resetIsScrollingDebounced=function(){e._resetIsScrollingTimeoutId!==null&&pe(e._resetIsScrollingTimeoutId),e._resetIsScrollingTimeoutId=Qe(e._resetIsScrolling,Je)},e._resetIsScrolling=function(){e._resetIsScrollingTimeoutId=null,e.setState({isScrolling:!1},function(){e._getItemStyleCache(-1,null)})},e}D.getDerivedStateFromProps=function(e,i){return et(e,i),x(e),null};var I=D.prototype;return I.scrollTo=function(e){e=Math.max(0,e),this.setState(function(i){return i.scrollOffset===e?null:{scrollDirection:i.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},I.scrollToItem=function(e,i){i===void 0&&(i="auto");var a=this.props,d=a.itemCount,h=a.layout,m=this.state.scrollOffset;e=Math.max(0,Math.min(e,d-1));var u=0;if(this._outerRef){var g=this._outerRef;h==="vertical"?u=g.scrollWidth>g.clientWidth?me():0:u=g.scrollHeight>g.clientHeight?me():0}this.scrollTo(v(this.props,e,i,m,this._instanceProps,u))},I.componentDidMount=function(){var e=this.props,i=e.direction,a=e.initialScrollOffset,d=e.layout;if(typeof a=="number"&&this._outerRef!=null){var h=this._outerRef;i==="horizontal"||d==="horizontal"?h.scrollLeft=a:h.scrollTop=a}this._callPropsCallbacks()},I.componentDidUpdate=function(){var e=this.props,i=e.direction,a=e.layout,d=this.state,h=d.scrollOffset,m=d.scrollUpdateWasRequested;if(m&&this._outerRef!=null){var u=this._outerRef;if(i==="horizontal"||a==="horizontal")if(i==="rtl")switch(fe()){case"negative":u.scrollLeft=-h;break;case"positive-ascending":u.scrollLeft=h;break;default:var g=u.clientWidth,s=u.scrollWidth;u.scrollLeft=s-g-h;break}else u.scrollLeft=h;else u.scrollTop=h}this._callPropsCallbacks()},I.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&pe(this._resetIsScrollingTimeoutId)},I.render=function(){var e=this.props,i=e.children,a=e.className,d=e.direction,h=e.height,m=e.innerRef,u=e.innerElementType,g=e.innerTagName,s=e.itemCount,l=e.itemData,w=e.itemKey,T=w===void 0?Xe:w,L=e.layout,k=e.outerElementType,$=e.outerTagName,j=e.style,_=e.useIsScrolling,z=e.width,p=this.state.isScrolling,E=d==="horizontal"||L==="horizontal",N=E?this._onScrollHorizontal:this._onScrollVertical,A=this._getRangeToRender(),P=A[0],V=A[1],G=[];if(s>0)for(var H=P;H<=V;H++)G.push(O.createElement(i,{data:l,key:T(H,l),index:H,isScrolling:_?p:void 0,style:this._getItemStyle(H)}));var re=r(this.props,this._instanceProps);return O.createElement(k||$||"div",{className:a,onScroll:N,ref:this._outerRefSetter,style:Te({position:"relative",height:h,width:z,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:d},j)},O.createElement(u||g||"div",{children:G,ref:m,style:{height:E?"100%":re,pointerEvents:p?"none":void 0,width:E?re:"100%"}}))},I._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var e=this.props.itemCount;if(e>0){var i=this._getRangeToRender(),a=i[0],d=i[1],h=i[2],m=i[3];this._callOnItemsRendered(a,d,h,m)}}if(typeof this.props.onScroll=="function"){var u=this.state,g=u.scrollDirection,s=u.scrollOffset,l=u.scrollUpdateWasRequested;this._callOnScroll(g,s,l)}},I._getRangeToRender=function(){var e=this.props,i=e.itemCount,a=e.overscanCount,d=this.state,h=d.isScrolling,m=d.scrollDirection,u=d.scrollOffset;if(i===0)return[0,0,0,0];var g=b(this.props,u,this._instanceProps),s=S(this.props,g,u,this._instanceProps),l=!h||m==="backward"?Math.max(1,a):1,w=!h||m==="forward"?Math.max(1,a):1;return[Math.max(0,g-l),Math.max(0,Math.min(i-1,s+w)),g,s]},D}(O.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var et=function(t,o){var r=t.children,c=t.direction,v=t.height,b=t.layout,S=t.innerTagName,R=t.outerTagName,C=t.width,x=o.instance;{(S!=null||R!=null)&&X&&!X.has(x)&&(X.add(x),console.warn("The innerTagName and outerTagName props have been deprecated. Please use the innerElementType and outerElementType props instead."));var M=c==="horizontal"||b==="horizontal";switch(c){case"horizontal":case"vertical":J&&!J.has(x)&&(J.add(x),console.warn('The direction prop should be either "ltr" (default) or "rtl". Please use the layout prop to specify "vertical" (default) or "horizontal" orientation.'));break;case"ltr":case"rtl":break;default:throw Error('An invalid "direction" prop has been specified. Value should be either "ltr" or "rtl". '+('"'+c+'" was specified.'))}switch(b){case"horizontal":case"vertical":break;default:throw Error('An invalid "layout" prop has been specified. Value should be either "horizontal" or "vertical". '+('"'+b+'" was specified.'))}if(r==null)throw Error('An invalid "children" prop has been specified. Value should be a React component. '+('"'+(r===null?"null":typeof r)+'" was specified.'));if(M&&typeof C!="number")throw Error('An invalid "width" prop has been specified. Horizontal lists must specify a number for width. '+('"'+(C===null?"null":typeof C)+'" was specified.'));if(!M&&typeof v!="number")throw Error('An invalid "height" prop has been specified. Vertical lists must specify a number for height. '+('"'+(v===null?"null":typeof v)+'" was specified.'))}},tt=Ze({getItemOffset:function(t,o){var r=t.itemSize;return o*r},getItemSize:function(t,o){var r=t.itemSize;return r},getEstimatedTotalSize:function(t){var o=t.itemCount,r=t.itemSize;return r*o},getOffsetForIndexAndAlignment:function(t,o,r,c,v,b){var S=t.direction,R=t.height,C=t.itemCount,x=t.itemSize,M=t.layout,D=t.width,I=S==="horizontal"||M==="horizontal",y=I?D:R,e=Math.max(0,C*x-y),i=Math.min(e,o*x),a=Math.max(0,o*x-y+x+b);switch(r==="smart"&&(c>=a-y&&c<=i+y?r="auto":r="center"),r){case"start":return i;case"end":return a;case"center":{var d=Math.round(a+(i-a)/2);return d<Math.ceil(y/2)?0:d>e+Math.floor(y/2)?e:d}case"auto":default:return c>=a&&c<=i?c:c<a?a:i}},getStartIndexForOffset:function(t,o){var r=t.itemCount,c=t.itemSize;return Math.max(0,Math.min(r-1,Math.floor(o/c)))},getStopIndexForStartIndex:function(t,o,r){var c=t.direction,v=t.height,b=t.itemCount,S=t.itemSize,R=t.layout,C=t.width,x=c==="horizontal"||R==="horizontal",M=o*S,D=x?C:v,I=Math.ceil((D+r-M)/S);return Math.max(0,Math.min(b-1,o+I-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){var o=t.itemSize;if(typeof o!="number")throw Error('An invalid "itemSize" prop has been specified. Value should be a number. '+('"'+(o===null?"null":typeof o)+'" was specified.'))}});const[yt,nt]=Ce("ComponentContext",{id:void 0,level:-1,uid:void 0,type:void 0});function Ie(n,t){const o=te(n),r=ie(t,b=>b.removeFieldRow),c=ie(t,b=>b.addFieldRow);return b=>{if(o.value&&o.value.connect){const S=o.value.connect.findIndex(R=>R.id===b.id);if(S>=0){r(`${n}.connect`,S);return}}c(`${n}.disconnect`,{id:b.id,apiData:{id:b.id,documentId:b.documentId,locale:b.locale}})}}const U=5,_e=["oneWay","oneToOne","manyToOne","oneToManyMorph","oneToOneMorph"],ot=O.forwardRef(({disabled:n,label:t,...o},r)=>{const[c,v]=O.useState(1),{document:b,model:S}=xe(),R=b?.documentId,{formatMessage:C}=ee(),[{query:x}]=ge(),M=ve(x),I=o.attribute.relation.toLowerCase().includes("morph")||n,{componentId:y,componentUID:e}=nt("RelationsField",({uid:p,id:E})=>({componentId:E,componentUID:p})),i=ie("RelationsList",p=>p.isSubmitting);O.useEffect(()=>{v(1)},[i]);const a=y?y.toString():R,d=e??S,[h]=o.name.split(".").slice(-1),{data:m,isLoading:u,isFetching:g}=Ve({model:d,targetField:h,id:a,params:{...M,pageSize:U,page:c}},{refetchOnMountOrArgChange:!0,skip:!a,selectFromResult:p=>({...p,data:{...p.data,results:p.data?.results?p.data.results:[]}})}),s=()=>{v(p=>p+1)},l=te(o.name),w=u||g,T="pagination"in m&&m.pagination?m.pagination.total:0,L=(l.value?.connect??[]).filter(p=>m.results.findIndex(E=>E.id===p.id)===-1).length??0,k=l.value?.disconnect?.length??0,$=T+L-k,j=O.useMemo(()=>{const p={field:l.value,href:`../${le}/${o.attribute.targetModel}`,mainField:o.mainField};return[...Me(at(p),rt(p),st(p))([...m.results]),...l.value?.connect??[]].sort((A,P)=>A.__temp_key__<P.__temp_key__?-1:A.__temp_key__>P.__temp_key__?1:0)},[m.results,l.value,o.attribute.targetModel,o.mainField]),_=Ie(o.name,"RelationsField"),z=p=>{const[E]=j.slice(-1),N={id:p.id,apiData:{id:p.id,documentId:p.documentId,locale:p.locale},status:p.status,__temp_key__:Se(E?.__temp_key__??null,null,1)[0],[o.mainField?.name??"documentId"]:p[o.mainField?.name??"documentId"],label:ae(p,o.mainField),href:`../${le}/${o.attribute.targetModel}/${p.documentId}?${p.locale?`plugins[i18n][locale]=${p.locale}`:""}`};_e.includes(o.attribute.relation)?(l.value?.connect?.forEach(_),j.forEach(_),l.onChange(`${o.name}.connect`,[N])):l.onChange(`${o.name}.connect`,[...l.value?.connect??[],N])};return f.jsxs(q,{ref:r,direction:"column",gap:3,justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",children:[f.jsxs(it,{direction:"column",alignItems:"start",gap:2,width:"100%",children:[f.jsx(lt,{disabled:I,id:e?y?`${y}`:"":R,label:`${t} ${$>0?`(${$})`:""}`,model:d,onChange:z,...o}),"pagination"in m&&m.pagination&&m.pagination.pageCount>m.pagination.page?f.jsx(Oe,{disabled:w,onClick:s,loading:w,startIcon:f.jsx(ze,{}),shrink:0,children:C({id:F("relation.loadMore"),defaultMessage:"Load More"})}):null]}),f.jsx(ct,{data:j,serverData:m.results,disabled:I,name:o.name,isLoading:w,relationType:o.attribute.relation})]})}),it=K(q)`
  & > div {
    width: 100%;
  }
`,at=({field:n})=>t=>t.filter(o=>(n?.connect??[]).findIndex(c=>c.id===o.id)===-1),rt=({field:n})=>t=>t.filter(o=>(n?.disconnect??[]).findIndex(c=>c.id===o.id)===-1),st=({mainField:n,href:t})=>o=>o.map(r=>({...r,[n?.name??"documentId"]:r[n?.name??"documentId"],label:ae(r,n),href:`${t}/${r.documentId}?${r.locale?`plugins[i18n][locale]=${r.locale}`:""}`})),lt=({hint:n,id:t,model:o,label:r,labelAction:c,name:v,mainField:b,placeholder:S,required:R,unique:C,"aria-label":x,onChange:M,...D})=>{const[I,y]=O.useState(""),[e,i]=O.useState({_q:"",page:1}),{toggleNotification:a}=De(),[{query:d}]=ge(),{formatMessage:h}=ee(),m=Le(v),u=te(v),g=He(e,300),[s,{data:l,isLoading:w}]=Ue();O.useEffect(()=>{const[_]=v.split(".").slice(-1);s({model:o,targetField:_,params:{...ve(d),id:t??"",pageSize:10,idsToInclude:u.value?.disconnect?.map(z=>z.id.toString())??[],idsToOmit:u.value?.connect?.map(z=>z.id.toString())??[],...g}})},[u.value?.connect,u.value?.disconnect,t,o,v,d,s,g]);const T=async _=>{i(z=>({...z,_q:_,page:1}))},L=l?.pagination?l.pagination.page<l.pagination.pageCount:!1,k=l?.results??[],$=_=>{if(!_)return;const z=k.find(p=>p.id.toString()===_);if(!z){console.error("You've tried to add a relation with an id that does not exist in the options you can see, this is likely a bug with Strapi. Please open an issue."),a({message:h({id:F("relation.error-adding-relation"),defaultMessage:"An error occurred while trying to add the relation."}),type:"danger"});return}M(z)},j=()=>{!l||!l.pagination||l.pagination.page<l.pagination.pageCount&&i(_=>({..._,page:_.page+1}))};return O.useLayoutEffect(()=>{y("")},[u.value]),f.jsxs(Y.Root,{error:u.error,hint:n,name:v,required:R,children:[f.jsx(Y.Label,{action:c,children:r}),f.jsx(Ee,{ref:m,name:v,autocomplete:"list",placeholder:S||h({id:F("relation.add"),defaultMessage:"Add relation"}),hasMoreItems:L,loading:w,onOpenChange:()=>{T(I??"")},noOptionsMessage:()=>h({id:F("relation.notAvailable"),defaultMessage:"No relations available"}),loadingMessage:h({id:F("relation.isLoading"),defaultMessage:"Relations are loading"}),onLoadMore:j,textValue:I,onChange:$,onTextValueChange:_=>{y(_)},onInputChange:_=>{T(_.currentTarget.value)},...D,children:k.map(_=>{const z=ae(_,b);return f.jsx(Fe,{value:_.id.toString(),textValue:z,children:f.jsxs(q,{gap:2,justifyContent:"space-between",children:[f.jsx(be,{ellipsis:!0,children:z}),_.status?f.jsx(ye,{status:_.status}):null]})},_.id)})}),f.jsx(Y.Error,{}),f.jsx(Y.Hint,{})]})},Q=50,Z=4,ct=({data:n,serverData:t,disabled:o,name:r,isLoading:c,relationType:v})=>{const b=O.useId(),{formatMessage:S}=ee(),R=O.useRef(null),C=O.useRef(null),[x,M]=O.useState(),[D,I]=O.useState(""),y=te(r);O.useEffect(()=>{if(n.length<=U)return M(void 0);const s=w=>{const T=w.target,L=T.parentNode.scrollHeight,k=T.scrollHeight-T.scrollTop;return T.scrollTop===0?M("bottom"):M(k===L?"top":"top-bottom")},l=C?.current;return!c&&n.length>0&&l&&C.current.addEventListener("scroll",s),()=>{l&&l.removeEventListener("scroll",s)}},[c,n.length]);const e=s=>`${s+1} of ${n.length}`,i=(s,l)=>{const w=n[l];I(S({id:F("dnd.reorder"),defaultMessage:"{item}, moved. New position in list: {position}."},{item:w.label??w.documentId,position:e(s)}));const T=[...n],L=n[l],k=l>s?T[s-1]?.__temp_key__:T[s]?.__temp_key__,$=l>s?T[s]?.__temp_key__:T[s+1]?.__temp_key__,[j]=Se(k,$,1);T.splice(l,1),T.splice(s,0,{...L,__temp_key__:j});const _=T.reduce((z,p,E,N)=>{const A=t.find(V=>V.id===p.id),P=N[E+1];if(!A||A.__temp_key__!==p.__temp_key__){const V=P?{before:P.documentId,locale:P.locale,status:"publishedAt"in P&&P.publishedAt?"published":"draft"}:{end:!0},G={...p,apiData:{id:p.id,documentId:p.documentId,locale:p.locale,position:V}};return[...z,G]}return z},[]).toReversed();y.onChange(`${r}.connect`,_)},a=s=>{const l=n[s];I(S({id:F("dnd.grab-item"),defaultMessage:"{item}, grabbed. Current position in list: {position}. Press up and down arrow to change position, Spacebar to drop, Escape to cancel."},{item:l.label??l.documentId,position:e(s)}))},d=s=>{const{href:l,label:w,...T}=n[s];I(S({id:F("dnd.drop-item"),defaultMessage:"{item}, dropped. Final position in list: {position}."},{item:w??T.documentId,position:e(s)}))},h=s=>{const l=n[s];I(S({id:F("dnd.cancel-item"),defaultMessage:"{item}, dropped. Re-order cancelled."},{item:l.label??l.documentId}))},m=Ie(r,"RelationsList"),u=!_e.includes(v),g=n.length>U?Math.min(n.length,U)*(Q+Z)+Q/2:Math.min(n.length,U)*(Q+Z);return f.jsxs(dt,{$overflowDirection:x,children:[f.jsx(ce,{id:b,children:S({id:F("dnd.instructions"),defaultMessage:"Press spacebar to grab and re-order"})}),f.jsx(ce,{"aria-live":"assertive",children:D}),f.jsx(tt,{height:g,ref:R,outerRef:C,itemCount:n.length,itemSize:Q+Z,itemData:{ariaDescribedBy:b,canDrag:u,disabled:o,handleCancel:h,handleDropItem:d,handleGrabItem:a,handleMoveItem:i,name:r,handleDisconnect:m,relations:n},itemKey:s=>n[s].id,innerElementType:"ol",children:ut})]})},dt=K(B)`
  position: relative;
  overflow: hidden;
  flex: 1;

  &:before,
  &:after {
    position: absolute;
    width: 100%;
    height: 4px;
    z-index: 1;
  }

  &:before {
    /* TODO: as for DS Table component we would need this to be handled by the DS theme */
    content: '';
    background: linear-gradient(rgba(3, 3, 5, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    top: 0;
    opacity: ${({$overflowDirection:n})=>n==="top-bottom"||n==="top"?1:0};
    transition: opacity 0.2s ease-in-out;
  }

  &:after {
    /* TODO: as for DS Table component we would need this to be handled by the DS theme */
    content: '';
    background: linear-gradient(0deg, rgba(3, 3, 5, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    bottom: 0;
    opacity: ${({$overflowDirection:n})=>n==="top-bottom"||n==="bottom"?1:0};
    transition: opacity 0.2s ease-in-out;
  }
`,ut=({data:n,index:t,style:o})=>{const{ariaDescribedBy:r,canDrag:c=!1,disabled:v=!1,handleCancel:b,handleDisconnect:S,handleDropItem:R,handleGrabItem:C,handleMoveItem:x,name:M,relations:D}=n,{formatMessage:I}=ee(),{href:y,id:e,label:i,status:a}=D[t],[{handlerId:d,isDragging:h,handleKeyDown:m},u,g,s,l]=Ne(c&&!v,{type:`${We.RELATION}_${M}`,index:t,item:{displayedValue:i,status:a,id:e,index:t},onMoveItem:x,onDropItem:R,onGrabItem:C,onCancel:b,dropSensitivity:qe.REGULAR}),w=ke(u,s);return O.useEffect(()=>{l(Be())},[l]),f.jsx(B,{style:o,tag:"li",ref:g,"aria-describedby":r,cursor:c?"all-scroll":"default",children:h?f.jsx(mt,{}):f.jsxs(q,{paddingTop:2,paddingBottom:2,paddingLeft:c?2:4,paddingRight:4,hasRadius:!0,borderColor:"neutral200",background:v?"neutral150":"neutral0",justifyContent:"space-between",ref:w,"data-handler-id":d,children:[f.jsxs(ht,{gap:1,children:[c?f.jsx(de,{tag:"div",role:"button",tabIndex:0,withTooltip:!1,label:I({id:F("components.RelationInput.icon-button-aria-label"),defaultMessage:"Drag"}),variant:"ghost",onKeyDown:m,disabled:v,children:f.jsx(Pe,{})}):null,f.jsxs(q,{width:"100%",minWidth:0,justifyContent:"space-between",children:[f.jsx(B,{minWidth:0,paddingTop:1,paddingBottom:1,paddingRight:4,children:f.jsx(je,{description:i,children:y?f.jsx(pt,{tag:$e,to:y,isExternal:!1,children:i}):f.jsx(be,{textColor:v?"neutral600":"primary600",ellipsis:!0,children:i})})}),a?f.jsx(ye,{status:a}):null]})]}),f.jsx(B,{paddingLeft:4,children:f.jsx(de,{onClick:()=>S(D[t]),disabled:v,label:I({id:F("relation.disconnect"),defaultMessage:"Remove"}),variant:"ghost",size:"S",children:f.jsx(Ae,{})})})]})})},ht=K(q)`
  width: 100%;
  /* Used to prevent endAction to be pushed out of container */
  min-width: 0;

  & > div[role='button'] {
    cursor: all-scroll;
  }
`,St=K.button`
  svg path {
    fill: ${({theme:n,disabled:t})=>t?n.colors.neutral600:n.colors.neutral500};
  }

  &:hover svg path,
  &:focus svg path {
    fill: ${({theme:n,disabled:t})=>!t&&n.colors.neutral600};
  }
`,pt=K(Re)`
  display: block;

  & > span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: block;
  }
`,mt=()=>f.jsx(B,{paddingTop:2,paddingBottom:2,paddingLeft:4,paddingRight:4,hasRadius:!0,borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",background:"primary100",height:`calc(100% - ${Z}px)`}),It=O.memo(ot);export{yt as C,St as D,ht as F,pt as L,It as M,nt as u};
